# ğŸ”” Sistema de Notificaciones Recomendadas para ManiGrab

## ğŸ“Š AnÃ¡lisis de Funcionalidades Actuales

### Funcionalidades Principales Identificadas:
1. **Home Screen**: Portal energÃ©tico con esfera dorada, cÃ³digo recomendado, nivel energÃ©tico
2. **Biblioteca CuÃ¡ntica**: CÃ³digos Grabovoi organizados por categorÃ­a
3. **Pilotaje CuÃ¡ntico Consciente**: Sesiones de 2 minutos con cÃ³digo y mÃºsica
4. **Campo EnergÃ©tico** (CodeDetailScreen): Sesiones de 2 minutos con cÃ³digos especÃ­ficos
5. **SesiÃ³n de RepeticiÃ³n**: RepeticiÃ³n de cÃ³digos con mÃºsica
6. **DesafÃ­os**: DesafÃ­os de 7, 14 y 21 dÃ­as
7. **EvoluciÃ³n**: Tracking de progreso y energÃ­a
8. **Perfil**: GestiÃ³n de usuario y configuraciones

### MÃ©tricas Clave que se Rastrean:
- DÃ­as consecutivos de prÃ¡ctica
- Total de pilotajes realizados
- Total de repeticiones
- Tiempo de meditaciÃ³n (minutos)
- Nivel energÃ©tico (1-10)
- Progreso de desafÃ­os
- Ãšltima fecha de pilotaje
- CÃ³digos mÃ¡s usados
- Acciones del usuario

---

## ğŸ”” NOTIFICACIONES RECOMENDADAS

### 1ï¸âƒ£ **NOTIFICACIONES DE CONSEJOS/RECORDATORIOS**

#### ğŸ  Nivel de Interactividad Bajo

**1.1 Recordatorio de CÃ³digo del DÃ­a**
- **CuÃ¡ndo**: Cada dÃ­a a las 9:00 AM
- **Criterio**: Si el usuario no ha visto el cÃ³digo del dÃ­a
- **Mensaje**: "ğŸŒ… Hola [Nombre], tu CÃ³digo Grabovoi de hoy espera por ti: [cÃ³digo]. Â¡Recuerda que tu energÃ­a se eleva con cada pilotaje consciente!"
- **AcciÃ³n**: Al tocar, abre Home Screen con el cÃ³digo destacado

**1.2 Recordatorio de Rutina Matutina**
- **CuÃ¡ndo**: Lunes a Viernes a las 8:00 AM
- **Criterio**: Si el usuario ha completado â‰¥3 pilotajes la semana pasada
- **Mensaje**: "â˜€ï¸ Buenos dÃ­as [Nombre]. Â¿Listo para comenzar el dÃ­a con energÃ­a cuÃ¡ntica? Un piloto consciente de 2 minutos transformarÃ¡ tu maÃ±ana."
- **AcciÃ³n**: Al tocar, abre Pilotaje CuÃ¡ntico Consciente

**1.3 Recordatorio de Rutina Vespertina**
- **CuÃ¡ndo**: Lunes a Viernes a las 7:00 PM
- **Criterio**: Si el usuario tiene racha â‰¥7 dÃ­as
- **Mensaje**: "ğŸŒ™ Excelente dÃ­a [Nombre]. Â¿Completas tu prÃ¡ctica cuÃ¡ntica de hoy? Tu racha de [X] dÃ­as estÃ¡ en riesgo si no practicas hoy."
- **AcciÃ³n**: Al tocar, abre Home Screen

**1.4 Consejo Motivacional Semanal**
- **CuÃ¡ndo**: Domingos a las 10:00 AM
- **Criterio**: Todos los usuarios
- **Mensaje**: "ğŸ’« Recuerda: La constancia supera la perfecciÃ³n. Cada cÃ³digo que repites es una semilla de transformaciÃ³n que plantas en tu realidad."
- **AcciÃ³n**: Al tocar, abre Home Screen

---

### 2ï¸âƒ£ **NOTIFICACIONES DE RACHA/PROGRESO**

#### ğŸ† GestiÃ³n de Continuidad

**2.1 Alerta de Racha en Riesgo (12 horas)**
- **CuÃ¡ndo**: A las 6:00 PM si no se ha practicado ese dÃ­a
- **Criterio**: Si tiene racha â‰¥3 dÃ­as consecutivos y no ha realizado pilotaje hoy
- **Mensaje**: "âš ï¸ AtenciÃ³n [Nombre]: Tu racha de [X] dÃ­as estÃ¡ en riesgo. Â¡Hay tiempo aÃºn! Realiza tu pilotaje de hoy para mantenerla viva."
- **Prioridad**: Alta
- **AcciÃ³n**: Al tocar, abre Home Screen

**2.2 Racha Perdida**
- **CuÃ¡ndo**: 24 horas despuÃ©s del Ãºltimo pilotaje (si se perdiÃ³ la racha)
- **Criterio**: Si tenÃ­a racha â‰¥3 dÃ­as y no practicÃ³ durante >24h
- **Mensaje**: "ğŸ˜” Tu racha de [X] dÃ­as se ha interrumpido, pero es solo un nuevo comienzo. El Piloto Consciente persevera. Â¡Comienza de nuevo hoy!"
- **AcciÃ³n**: Al tocar, abre Home Screen

**2.3 CelebraciÃ³n Hitos de Racha**
- **CuÃ¡ndo**: Cuando alcanza hitos especÃ­ficos (3, 7, 14, 21, 30 dÃ­as)
- **Criterio**: DespuÃ©s de completar un pilotaje en esos dÃ­as exactos
- **Mensaje**: 
  - 3 dÃ­as: "ğŸ‰ Â¡Felicidades! 3 dÃ­as consecutivos. Tu energÃ­a comienza a estabilizarse."
  - 7 dÃ­as: "ğŸŒŸ Â¡IncreÃ­ble! 7 dÃ­as consecutivos. EstÃ¡s creando un hÃ¡bito poderoso."
  - 14 dÃ­as: "ğŸ’ Â¡Extraordinario! 14 dÃ­as consecutivos. Tu disciplina estÃ¡ transformando tu realidad."
  - 21 dÃ­as: "ğŸ‘‘ Â¡Ã‰pico! 21 dÃ­as consecutivos. El hÃ¡bito estÃ¡ formado. Eres un Piloto Consciente."
  - 30 dÃ­as: "ğŸ† Â¡Legendario! 30 dÃ­as consecutivos. Has alcanzado MaestrÃ­a en Constancia."
- **AcciÃ³n**: Al tocar, abre pantalla de logros/evoluciÃ³n

**2.4 PredicciÃ³n de Racha Perfeccionista**
- **CuÃ¡ndo**: Cada dÃ­a a las 6:00 AM si no ha practicado
- **Criterio**: Si tiene racha â‰¥14 dÃ­as y no ha practicado aÃºn ese dÃ­a
- **Mensaje**: "ğŸ’« [Nombre], llevas [X] dÃ­as perfectos. Hoy es el dÃ­a [X+1]. Â¡MantÃ©n tu racha dorada!"
- **AcciÃ³n**: Al tocar, abre Home Screen

---

### 3ï¸âƒ£ **NOTIFICACIONES DE NIVEL ENERGÃ‰TICO**

#### âš¡ Sistema de EnergÃ­a

**3.1 Nivel EnergÃ©tico Sube**
- **CuÃ¡ndo**: DespuÃ©s de un pilotaje que causa subida de nivel
- **Criterio**: Si el nivel energÃ©tico aumentÃ³ tras registrar un pilotaje
- **Mensaje**: "âš¡ Â¡Tu energÃ­a ha subido! Ahora estÃ¡s en nivel [X]/10. Â¡Sigue asÃ­!"
- **AcciÃ³n**: Al tocar, abre pantalla de EvoluciÃ³n

**3.2 Alerta de EnergÃ­a Baja**
- **CuÃ¡ndo**: Si no ha practicado en 5 dÃ­as y tenÃ­a nivel â‰¥5
- **Criterio**: Nivel â‰¥5 y Ãºltima prÃ¡ctica >5 dÃ­as
- **Mensaje**: "ğŸ”‹ Tu nivel energÃ©tico estÃ¡ bajando ([X]/10). Recarga tu energÃ­a con un pilotaje consciente hoy."
- **AcciÃ³n**: Al tocar, abre Home Screen

**3.3 Nivel MÃ¡ximo Alcanzado**
- **CuÃ¡ndo**: Cuando alcanza nivel 10/10
- **Criterio**: DespuÃ©s de un pilotaje que le da nivel 10
- **Mensaje**: "ğŸ‘‘ Â¡MAESTRÃA! Has alcanzado el nivel mÃ¡ximo de energÃ­a (10/10). Eres un Piloto Consciente cuÃ¡ntico."
- **AcciÃ³n**: Al tocar, abre pantalla de logros especiales

---

### 4ï¸âƒ£ **NOTIFICACIONES DE DESAFÃOS**

#### ğŸ¯ DesafÃ­os Activos

**4.1 Recordatorio Diario de DesafÃ­o**
- **CuÃ¡ndo**: A las 10:00 AM si hay desafÃ­o activo
- **Criterio**: Usuario con desafÃ­o activo que no completÃ³ acciones del dÃ­a anterior
- **Mensaje**: "ğŸ¯ Tienes un desafÃ­o activo: [Nombre DesafÃ­o]. DÃ­a [X] de [Total]. Â¡Completa tus acciones hoy!"
- **AcciÃ³n**: Al tocar, abre pantalla de DesafÃ­os

**4.2 DÃ­a de DesafÃ­o Completado**
- **CuÃ¡ndo**: DespuÃ©s de completar todas las acciones de un dÃ­a
- **Criterio**: Todas las acciones del dÃ­a completadas
- **Mensaje**: "âœ… Â¡DÃ­a completado! DÃ­a [X]/[Total] del desafÃ­o [Nombre]. Â¡Excelente trabajo!"
- **AcciÃ³n**: Al tocar, abre pantalla de progreso del desafÃ­o

**4.3 DesafÃ­o en Riesgo de Falla**
- **CuÃ¡ndo**: Si no completÃ³ un dÃ­a consecutivo y el desafÃ­o requiere continuidad
- **Criterio**: DesafÃ­o activo con al menos 3 dÃ­as y no completÃ³ ayer
- **Mensaje**: "âš ï¸ Tu desafÃ­o '[Nombre]' estÃ¡ en riesgo. Â¡Completa el dÃ­a [X] hoy!"
- **Prioridad**: Alta
- **AcciÃ³n**: Al tocar, abre DesafÃ­os

**4.4 DesafÃ­o Completado - Premio**
- **CuÃ¡ndo**: Cuando completa un desafÃ­o entero
- **Criterio**: Ãšltimo dÃ­a del desafÃ­o completado
- **Mensaje**: "ğŸ† Â¡DESAFÃO COMPLETADO! '[Nombre DesafÃ­o]'. Has desbloqueado: [Premios]. Â¡Felicidades Piloto Consciente!"
- **AcciÃ³n**: Al tocar, abre pantalla de felicitaciones con premios

**4.5 Nuevo DesafÃ­o Disponible**
- **CuÃ¡ndo**: Cuando desbloquea un nuevo desafÃ­o o inicia semana
- **Criterio**: Nuevo desafÃ­o disponible basado en progreso
- **Mensaje**: "ğŸ Nuevo desafÃ­o disponible: '[Nombre]'. [DescripciÃ³n breve]. Â¿Te atreves?"
- **AcciÃ³n**: Al tocar, abre pantalla de DesafÃ­os

---

### 5ï¸âƒ£ **NOTIFICACIONES DE LOGROS/PREMIOS**

#### ğŸ… Sistema de GamificaciÃ³n

**5.1 Primer Pilotaje**
- **CuÃ¡ndo**: Completar el primer pilotaje
- **Criterio**: Primera vez que completa un pilotaje
- **Mensaje**: "ğŸ‰ Â¡Bienvenido al viaje cuÃ¡ntico! Has completado tu primer pilotaje consciente. El viaje de transformaciÃ³n comienza."
- **AcciÃ³n**: Al tocar, abre Home Screen

**5.2 Primeros 10 Pilotajes**
- **CuÃ¡ndo**: Al alcanzar 10 pilotajes totales
- **Criterio**: Total de pilotajes = 10
- **Mensaje**: "ğŸ’ª Â¡10 pilotajes completados! EstÃ¡s construyendo un hÃ¡bito poderoso."
- **AcciÃ³n**: Al tocar, abre pantalla de EvoluciÃ³n

**5.3 Hitos de Cantidad (50, 100, 500, 1000)**
- **CuÃ¡ndo**: Al alcanzar 50, 100, 500 o 1000 pilotajes totales
- **Criterio**: Total de pilotajes exactamente en esos nÃºmeros
- **Mensaje**: 
  - 50: "â­ 50 pilotajes completados. Eres un Piloto Intermedio."
  - 100: "ğŸŒŸ 100 pilotajes completados. Â¡MaestrÃ­a Intermedia alcanzada!"
  - 500: "ğŸ‘‘ 500 pilotajes completados. Eres un Experto en Piloto CuÃ¡ntico."
  - 1000: "ğŸ† 1000 pilotajes completados. Â¡LEYENDA VIVIENTE! Has dominado el arte."
- **AcciÃ³n**: Al tocar, abre pantalla de logros especiales

**5.4 CÃ³digo Favorito**
- **CuÃ¡ndo**: Cuando usa un cÃ³digo 10 veces
- **Criterio**: Uso del mismo cÃ³digo = 10 veces
- **Mensaje**: "ğŸ’ [CÃ³digo] es tu cÃ³digo favorito (usado 10 veces). El Universo reconoce tu afinidad con este nÃºmero."
- **AcciÃ³n**: Al tocar, abre detalles del cÃ³digo

**5.5 Diversidad de CÃ³digos**
- **CuÃ¡ndo**: Cuando usa 20 cÃ³digos diferentes
- **Criterio**: 20 cÃ³digos Ãºnicos usados
- **Mensaje**: "ğŸŒˆ Â¡Explorador! Has usado 20 cÃ³digos diferentes. Tu versatilidad cuÃ¡ntica es impresionante."
- **AcciÃ³n**: Al tocar, abre Biblioteca

---

### 6ï¸âƒ£ **NOTIFICACIONES DE CONTENIDO PERSONALIZADO**

#### ğŸ¯ Basadas en IA/AnÃ¡lisis

**6.1 CÃ³digo Personalizado Recomendado**
- **CuÃ¡ndo**: 3 veces por semana (lunes, miÃ©rcoles, viernes) a las 11:00 AM
- **Criterio**: Basado en historial de uso y patrones
- **Mensaje**: "âœ¨ Basado en tu actividad, este cÃ³digo podrÃ­a ser perfecto para ti hoy: [CÃ³digo]. Â¿Por quÃ© no intentas una sesiÃ³n?"
- **AcciÃ³n**: Al tocar, abre detalle del cÃ³digo recomendado

**6.2 Resumen Semanal de Progreso**
- **CuÃ¡ndo**: Domingos a las 8:00 PM
- **Criterio**: Todos los usuarios activos
- **Mensaje**: "ğŸ“Š Tu semana cuÃ¡ntica: [X] pilotajes, [Y] cÃ³digos usados, nivel [Z]/10. Â¡Sigue asÃ­!"
- **AcciÃ³n**: Al tocar, abre pantalla de EvoluciÃ³n con resumen semanal

**6.3 Tendencias y Patrones**
- **CuÃ¡ndo**: Mensualmente
- **Criterio**: Usuario con â‰¥20 pilotajes
- **Mensaje**: "ğŸ“ˆ AnÃ¡lisis mensual: [PatrÃ³n observado, ej: 'Usas cÃ³digos de abundancia los viernes']. Â¿Quieres ver mÃ¡s insights?"
- **AcciÃ³n**: Al tocar, abre secciÃ³n de insights

---

### 7ï¸âƒ£ **NOTIFICACIONES ESPECIALES/TEMPORALES**

#### ğŸŠ Eventos y Ocasiones

**7.1 Aniversario de Registro**
- **CuÃ¡ndo**: Exactamente 30, 90, 180, 365 dÃ­as despuÃ©s del registro
- **Criterio**: Fecha exacta de aniversario
- **Mensaje**: "ğŸ‚ Â¡Feliz [Aniversario]! [X] dÃ­as como Piloto Consciente. Gracias por ser parte de la comunidad."
- **AcciÃ³n**: Al tocar, abre pantalla de agradecimiento

**7.2 Cambio de EstaciÃ³n/Ciclos Lunares**
- **CuÃ¡ndo**: Cambios de estaciÃ³n o luna nueva/llena
- **Criterio**: Eventos astronÃ³micos
- **Mensaje**: "ğŸŒ™ Luna Nueva/Primavera [etc]. Momento poderoso para nuevos inicios. Usa el cÃ³digo [Recomendado] para este ciclo."
- **AcciÃ³n**: Al tocar, abre detalle del cÃ³digo estacional

**7.3 CÃ³digo Especial del Mes**
- **CuÃ¡ndo**: Primero de cada mes a las 9:00 AM
- **Criterio**: Todos los usuarios
- **Mensaje**: "ğŸ“… Nuevo mes, nueva energÃ­a. El cÃ³digo de [Mes] es: [CÃ³digo]. Â¡Comienza el mes con intenciÃ³n!"
- **AcciÃ³n**: Al tocar, abre Home Screen

---

### 8ï¸âƒ£ **NOTIFICACIONES SOCIAL/COMUNIDAD**

#### ğŸ‘¥ (Opcional - si implementas comunidad)

**8.1 Rankings Semanales**
- **CuÃ¡ndo**: Lunes a las 10:00 AM
- **Criterio**: Si implementas rankings
- **Mensaje**: "ğŸ… Este fin de semana, [X] Pilotos Conscientes completaron desafÃ­os. Â¿EstÃ¡s entre ellos?"
- **AcciÃ³n**: Al tocar, abre ranking (si existe)

**8.2 InvitaciÃ³n a Compartir Logros**
- **CuÃ¡ndo**: DespuÃ©s de logros importantes
- **Criterio**: Logros especiales (racha 21, nivel 10, etc.)
- **Mensaje**: "ğŸ‰ Â¡Comparte tu logro con la comunidad! Has alcanzado [Logro]. Â¡Inspira a otros!"
- **AcciÃ³n**: Al tocar, abre diÃ¡logo de compartir

---

## âš™ï¸ CONFIGURACIÃ“N DE USUARIO

Permitir que el usuario configure:
1. **Horarios preferidos** (por ejemplo: 8:00-10:00 y 19:00-21:00)
2. **Frecuencia** (diario, dÃ­as alternos, solo fines de semana)
3. **Tipos de notificaciones** (activar/desactivar por categorÃ­a)
4. **Silenciar dÃ­as especÃ­ficos** (por ejemplo: domingos)
5. **Idioma** (espaÃ±ol/otros)
6. **Modo silencioso** (solo vibrar, no hacer sonido)

---

## ğŸ“± IMPLEMENTACIÃ“N TÃ‰CNICA SUGERIDA

### Paquetes Recomendados:
```yaml
dependencies:
  flutter_local_notifications: ^16.0.0  # Notificaciones locales
  timezone: ^0.9.0                      # Zonas horarias
  workmanager: ^0.5.2                   # Tareas en segundo plano
```

### Estructura Propuesta:
```
lib/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ notification_service.dart       # Servicio principal de notificaciones
â”‚   â”œâ”€â”€ notification_scheduler.dart     # ProgramaciÃ³n de notificaciones
â”‚   â””â”€â”€ notification_rules.dart         # LÃ³gica de cuÃ¡ndo mostrar cada notificaciÃ³n
â”œâ”€â”€ models/
â”‚   â””â”€â”€ notification_preferences.dart   # Preferencias del usuario
â””â”€â”€ screens/
    â””â”€â”€ settings/
        â””â”€â”€ notifications_settings.dart # ConfiguraciÃ³n de notificaciones
```

### Variables que se necesitan rastrear:
- Ãšltima notificaciÃ³n enviada de cada tipo
- Racha actual del usuario
- PrÃ³xima notificaciÃ³n programada
- Preferencias del usuario
- Horario local del usuario
- Estado de desafÃ­os activos

---

## ğŸ¯ PRIORIZACIÃ“N RECOMENDADA

### FASE 1 (MVP - CrÃ­tico):
1. Recordatorio de CÃ³digo del DÃ­a (1.1)
2. Alerta de Racha en Riesgo 12h (2.1)
3. CelebraciÃ³n Hitos de Racha 3,7,14,21 (2.3)
4. DesafÃ­o DÃ­a Completado (4.2)
5. ConfiguraciÃ³n bÃ¡sica de usuario

### FASE 2 (Importante):
1. Nivel EnergÃ©tico Sube (3.1)
2. Recordatorio Diario de DesafÃ­o (4.1)
3. Resumen Semanal (6.2)
4. Primer Pilotaje y primeras 10 (5.1, 5.2)
5. Hitos de Cantidad 50,100 (5.3)

### FASE 3 (Nice to Have):
1. Recordatorios Matutinos/Vespertinos (1.2, 1.3)
2. CÃ³digo Personalizado (6.1)
3. Aniversarios (7.1)
4. CÃ³digo del Mes (7.3)
5. Funciones sociales (8.x)

---

## ğŸ“ NOTAS FINALES

- **Tonality**: Mantener el tono mÃ­stico y motivacional de la app
- **Frecuencia**: No mÃ¡s de 3-4 notificaciones al dÃ­a (excepto eventos especiales)
- **PersonalizaciÃ³n**: Usar el nombre del usuario siempre que sea posible
- **Testing**: Probar todas las notificaciones en diferentes estados del usuario
- **Analytics**: Rastrear quÃ© notificaciones tienen mejor engagement
- **Fallback**: Si no hay nombre, usar "Piloto Consciente" o similar

